<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1222pt" height="1924" viewBox="0 0 1222.47 1443.2"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1439.2)"><title>UmlClassDiagram</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -1439.2 1218.47 -1439.2 1218.47 4 -4 4"/><g id="node1" class="node"><title>0</title><polygon fill="#f2f2f2" stroke="#000" points="422.77 -565.5 422.77 -841.5 1139.03 -841.5 1139.03 -565.5 422.77 -565.5"/><text x="780.9" y="-824.9" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Abstract&gt;&gt;</text><text x="780.9" y="-808.1" font-family="Times,serif" font-size="14" text-anchor="middle">BaseAccount</text><text x="780.9" y="-791.3" font-family="Times,serif" font-size="14" text-anchor="middle">../../../account-abstraction/contracts/core/BaseAccount.sol</text><polyline fill="none" stroke="#000" points="422.77 -783.1 1139.03 -783.1"/><text x="430.77" y="-766.5" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="430.77" y="-749.7" font-family="Times,serif" font-size="14" text-anchor="start">SIG_VALIDATION_FAILED: uint256</text><polyline fill="none" stroke="#000" points="422.77 -741.5 1139.03 -741.5"/><text x="430.77" y="-724.9" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="430.77" y="-708.1" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; _validateSignature(userOp: UserOperation, userOpHash: bytes32): (validationData: uint256)</text><text x="430.77" y="-691.3" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; _validateAndUpdateNonce(userOp: UserOperation)</text><text x="430.77" y="-674.5" font-family="Times,serif" font-size="14" text-anchor="start">_requireFromEntryPoint()</text><text x="430.77" y="-657.7" font-family="Times,serif" font-size="14" text-anchor="start">_payPrefund(missingAccountFunds: uint256)</text><text x="430.77" y="-640.9" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="430.77" y="-624.1" font-family="Times,serif" font-size="14" text-anchor="start">validateUserOp(userOp: UserOperation, userOpHash: bytes32, missingAccountFunds: uint256): (validationData: uint256)</text><text x="430.77" y="-607.3" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="430.77" y="-590.5" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; nonce(): uint256</text><text x="430.77" y="-573.7" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;abstract&gt;&gt; entryPoint(): IEntryPoint</text></g><g id="node2" class="node"><title>10</title><polygon fill="#f2f2f2" stroke="#000" points="0 -878.5 0 -1146.5 997.8 -1146.5 997.8 -878.5 0 -878.5"/><text x="498.9" y="-1129.9" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Interface&gt;&gt;</text><text x="498.9" y="-1113.1" font-family="Times,serif" font-size="14" text-anchor="middle">IEntryPoint</text><text x="498.9" y="-1096.3" font-family="Times,serif" font-size="14" text-anchor="middle">../../../account-abstraction/contracts/interfaces/IEntryPoint.sol</text><polyline fill="none" stroke="#000" points="0 -1088.1 997.8 -1088.1"/><text x="8" y="-1071.5" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="8" y="-1054.7" font-family="Times,serif" font-size="14" text-anchor="start">handleOps(ops: UserOperation[], beneficiary: address)</text><text x="8" y="-1037.9" font-family="Times,serif" font-size="14" text-anchor="start">handleAggregatedOps(opsPerAggregator: UserOpsPerAggregator[], beneficiary: address)</text><text x="8" y="-1021.1" font-family="Times,serif" font-size="14" text-anchor="start">getUserOpHash(userOp: UserOperation): bytes32</text><text x="8" y="-1004.3" font-family="Times,serif" font-size="14" text-anchor="start">simulateValidation(userOp: UserOperation)</text><text x="8" y="-987.5" font-family="Times,serif" font-size="14" text-anchor="start">getSenderAddress(initCode: bytes)</text><text x="8" y="-970.7" font-family="Times,serif" font-size="14" text-anchor="start">simulateHandleOp(op: UserOperation, target: address, targetCallData: bytes)</text><text x="8" y="-953.9" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="8" y="-937.1" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; UserOperationEvent(userOpHash: bytes32, sender: address, paymaster: address, nonce: uint256, success: bool, actualGasCost: uint256, actualGasUsed: uint256)</text><text x="8" y="-920.3" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; AccountDeployed(userOpHash: bytes32, sender: address, factory: address, paymaster: address)</text><text x="8" y="-903.5" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; UserOperationRevertReason(userOpHash: bytes32, sender: address, nonce: uint256, revertReason: bytes)</text><text x="8" y="-886.7" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; SignatureAggregatorChanged(aggregator: address)</text></g><g id="edge1" class="edge"><title>0-&gt;10</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M654.75,-841.84C645.86,-851.51 636.9,-861.26 628.01,-870.95"/><polygon fill="#000" stroke="#000" points="625.4 -868.61 621.22 -878.34 630.56 -873.34 625.4 -868.61"/></g><g id="node3" class="node"><title>19</title><polygon fill="#f2f2f2" stroke="#000" points="837.33 -1183.5 837.33 -1434.7 1214.47 -1434.7 1214.47 -1183.5 837.33 -1183.5"/><text x="1025.9" y="-1418.1" font-family="Times,serif" font-size="14" text-anchor="middle">&lt;&lt;Struct&gt;&gt;</text><text x="1025.9" y="-1401.3" font-family="Times,serif" font-size="14" text-anchor="middle">UserOperation</text><text x="1025.9" y="-1384.5" font-family="Times,serif" font-size="14" text-anchor="middle">../../../account-abstraction/contracts/interfaces/UserOperation.sol</text><polyline fill="none" stroke="#000" points="837.33 -1376.3 1214.47 -1376.3"/><text x="845.33" y="-1359.7" font-family="Times,serif" font-size="14" text-anchor="start">sender: address</text><text x="845.33" y="-1342.9" font-family="Times,serif" font-size="14" text-anchor="start">nonce: uint256</text><text x="845.33" y="-1326.1" font-family="Times,serif" font-size="14" text-anchor="start">initCode: bytes</text><text x="845.33" y="-1309.3" font-family="Times,serif" font-size="14" text-anchor="start">callData: bytes</text><text x="845.33" y="-1292.5" font-family="Times,serif" font-size="14" text-anchor="start">callGasLimit: uint256</text><text x="845.33" y="-1275.7" font-family="Times,serif" font-size="14" text-anchor="start">verificationGasLimit: uint256</text><text x="845.33" y="-1258.9" font-family="Times,serif" font-size="14" text-anchor="start">preVerificationGas: uint256</text><text x="845.33" y="-1242.1" font-family="Times,serif" font-size="14" text-anchor="start">maxFeePerGas: uint256</text><text x="845.33" y="-1225.3" font-family="Times,serif" font-size="14" text-anchor="start">maxPriorityFeePerGas: uint256</text><text x="845.33" y="-1208.5" font-family="Times,serif" font-size="14" text-anchor="start">paymasterAndData: bytes</text><text x="845.33" y="-1191.7" font-family="Times,serif" font-size="14" text-anchor="start">signature: bytes</text></g><g id="edge2" class="edge"><title>0-&gt;19</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M982.99,-841.52C992.11,-853 1000.22,-865.17 1006.9,-878 1053.93,-968.32 1056.29,-1084.33 1048.19,-1173.1"/><polygon fill="#000" stroke="#000" points="1044.69 -1172.95 1047.21 -1183.24 1051.66 -1173.62 1044.69 -1172.95"/></g><g id="edge3" class="edge"><title>10-&gt;19</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M736.96,-1146.58C767.5,-1163.65 798.49,-1180.98 828.29,-1197.63"/><polygon fill="#000" stroke="#000" points="826.64 -1200.72 837.07 -1202.54 830.05 -1194.61 826.64 -1200.72"/></g><g id="node4" class="node"><title>23</title><polygon fill="#f2f2f2" stroke="#000" points="505.41 -.5 505.41 -528.5 1056.39 -528.5 1056.39 -.5 505.41 -.5"/><text x="780.9" y="-511.9" font-family="Times,serif" font-size="14" text-anchor="middle">SimpleAccount</text><text x="780.9" y="-495.1" font-family="Times,serif" font-size="14" text-anchor="middle">../../../account-abstraction/contracts/samples/SimpleAccount.sol</text><polyline fill="none" stroke="#000" points="505.41 -486.9 1056.39 -486.9"/><text x="513.41" y="-470.3" font-family="Times,serif" font-size="14" text-anchor="start">Private:</text><text x="513.41" y="-453.5" font-family="Times,serif" font-size="14" text-anchor="start">_filler: bytes28</text><text x="513.41" y="-436.7" font-family="Times,serif" font-size="14" text-anchor="start">_nonce: uint96</text><text x="513.41" y="-419.9" font-family="Times,serif" font-size="14" text-anchor="start">_entryPoint: IEntryPoint</text><text x="513.41" y="-403.1" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="513.41" y="-386.3" font-family="Times,serif" font-size="14" text-anchor="start">owner: address</text><polyline fill="none" stroke="#000" points="505.41 -378.1 1056.39 -378.1"/><text x="513.41" y="-361.5" font-family="Times,serif" font-size="14" text-anchor="start">Internal:</text><text x="513.41" y="-344.7" font-family="Times,serif" font-size="14" text-anchor="start">_onlyOwner()</text><text x="513.41" y="-327.9" font-family="Times,serif" font-size="14" text-anchor="start">_initialize(anOwner: address)</text><text x="513.41" y="-311.1" font-family="Times,serif" font-size="14" text-anchor="start">_requireFromEntryPointOrOwner()</text><text x="513.41" y="-294.3" font-family="Times,serif" font-size="14" text-anchor="start">_validateAndUpdateNonce(userOp: UserOperation)</text><text x="513.41" y="-277.5" font-family="Times,serif" font-size="14" text-anchor="start">_validateSignature(userOp: UserOperation, userOpHash: bytes32): (validationData: uint256)</text><text x="513.41" y="-260.7" font-family="Times,serif" font-size="14" text-anchor="start">_call(target: address, value: uint256, data: bytes)</text><text x="513.41" y="-243.9" font-family="Times,serif" font-size="14" text-anchor="start">_authorizeUpgrade(newImplementation: address)</text><text x="513.41" y="-227.1" font-family="Times,serif" font-size="14" text-anchor="start">External:</text><text x="513.41" y="-210.3" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; null()</text><text x="513.41" y="-193.5" font-family="Times,serif" font-size="14" text-anchor="start">execute(dest: address, value: uint256, func: bytes)</text><text x="513.41" y="-176.7" font-family="Times,serif" font-size="14" text-anchor="start">executeBatch(dest: address[], func: bytes[])</text><text x="513.41" y="-159.9" font-family="Times,serif" font-size="14" text-anchor="start">Public:</text><text x="513.41" y="-143.1" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;payable&gt;&gt; addDeposit()</text><text x="513.41" y="-126.3" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;event&gt;&gt; SimpleAccountInitialized(entryPoint: IEntryPoint, owner: address)</text><text x="513.41" y="-109.5" font-family="Times,serif" font-size="14" text-anchor="start">&lt;&lt;modifier&gt;&gt; onlyOwner()</text><text x="513.41" y="-92.7" font-family="Times,serif" font-size="14" text-anchor="start">nonce(): uint256</text><text x="513.41" y="-75.9" font-family="Times,serif" font-size="14" text-anchor="start">entryPoint(): IEntryPoint</text><text x="513.41" y="-59.1" font-family="Times,serif" font-size="14" text-anchor="start">constructor(anEntryPoint: IEntryPoint)</text><text x="513.41" y="-42.3" font-family="Times,serif" font-size="14" text-anchor="start">initialize(anOwner: address) &lt;&lt;initializer&gt;&gt;</text><text x="513.41" y="-25.5" font-family="Times,serif" font-size="14" text-anchor="start">getDeposit(): uint256</text><text x="513.41" y="-8.7" font-family="Times,serif" font-size="14" text-anchor="start">withdrawDepositTo(withdrawAddress: address, amount: uint256) &lt;&lt;onlyOwner&gt;&gt;</text></g><g id="edge4" class="edge"><title>23-&gt;0</title><path fill="none" stroke="#000" d="M780.9,-528.53C780.9,-530.79 780.9,-533.04 780.9,-535.28"/><polygon fill="none" stroke="#000" points="770.4 -535.43 780.9 -565.43 791.4 -535.43 770.4 -535.43"/></g><g id="edge5" class="edge"><title>23-&gt;10</title><path fill="none" stroke="#000" d="M505.27,-441.89C468.3,-477.95 435.67,-519.12 413.9,-565 361.11,-676.22 385.54,-722.2 413.9,-842 415.99,-850.82 418.61,-859.71 421.63,-868.54"/><polygon fill="#000" stroke="#000" points="418.38 -869.87 425.05 -878.1 424.97 -867.51 418.38 -869.87"/></g><g id="edge6" class="edge"><title>23-&gt;19</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M1056.53,-441.89C1093.5,-477.95 1126.12,-519.12 1147.9,-565 1241.73,-762.68 1160.72,-1019.51 1093.38,-1173.65"/><polygon fill="#000" stroke="#000" points="1090 -1172.63 1089.17 -1183.19 1096.41 -1175.46 1090 -1172.63"/></g></g></svg>